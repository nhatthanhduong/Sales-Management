<!-- Use Flask syntax to inherits the format of base.html -->
{% extends 'base.html' %}

<!-- Head block inheriting from base.html's head -->
{% block head %}

{% endblock %}

<!-- Body block inheriting from base.html's body -->
{% block body %}
<div>
    <h1>Sales Order - Product Management</h1>
    
    <div>
        <div>
            <table>
                <tr>
                    <th>Product ID</th>
                    <th>Product Name</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Actions</th>
                </tr>
                <!-- Use for loop to display all customer in the database row by row -->
                {% for row in results %}
                    <tr>
                        <td>{{ row.productID }}</td>
                        <td>{{ row.productName }}</td>
                        <td>{{ row.quantity }}</td>
                        <td>{{ row.price }}</td>
                        <td>
                            <!-- Pass customer's id to the URL, which the python function uses to determine the customer to delete -->
                            <a id="action", href="/sales_order/add_products/delete/{{ row.salesOrderID }}/{{ row.productID }}">Delete</a>
                        </td>
                    </tr>
                {% endfor %}
                
                <!-- Get user's input for new customer and send it to the main route for python program -->
                <form action="/sales_order/add_products/{{ sales_order.salesOrderID }}" method="POST">
                    <tr>
                        <td></td>
                        <td><input type="text" name="productName" list="products" autocomplete="off"></td>
                        <td><input type="number" name="quantity" autocomplete="off"></td>
                        <td><input type="number" name ="price" autocomplete="off"></td>
                        <td><input type="submit" value="Add Product"></td>
                    </tr>
                </form>
            </table>
            <datalist id="products">
                {% for product in products %}
                    <option value="{{ product.productName }}"></option>
                {% endfor %}
            </datalist>
        </div>
        <div>
            <h2>Product List</h2>
            <table>
                <tr>
                    <th>Product ID</th>
                    <th>Product Name</th>
                </tr>
                {% for product in products %}
                    <tr>
                        <td>{{ product.productID }}</td>
                        <td>{{ product.productName }}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    
</div>
{% endblock%} 